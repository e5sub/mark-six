{% extends "admin/base.html" %}

{% block page_title %}ç®¡ç†å‘˜æ§åˆ¶å°{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2 class="card-title">ğŸ“Š ç³»ç»Ÿæ¦‚è§ˆå’Œå¿«é€Ÿæ“ä½œ</h2>
        <p style="color: #666; margin: 0; font-size: 0.95rem;">ç³»ç»Ÿæ¦‚è§ˆå’Œå¿«é€Ÿæ“ä½œ</p>
    </div>
    
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2.5rem; margin-bottom: 1rem; color: #667eea;">ğŸ‘¥</div>
            <div class="stat-number">{{ stats.total_users }}</div>
            <div class="stat-label">æ€»ç”¨æˆ·æ•°</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2.5rem; margin-bottom: 1rem; color: #28a745;">âœ…</div>
            <div class="stat-number">{{ stats.active_users }}</div>
            <div class="stat-label">å·²æ¿€æ´»ç”¨æˆ·</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2.5rem; margin-bottom: 1rem; color: #dc3545;">âŒ</div>
            <div class="stat-number">{{ stats.inactive_users }}</div>
            <div class="stat-label">æœªæ¿€æ´»ç”¨æˆ·</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2.5rem; margin-bottom: 1rem; color: #ffc107;">ğŸ”‘</div>
            <div class="stat-number">{{ stats.available_codes }}</div>
            <div class="stat-label">å¯ç”¨æ¿€æ´»ç </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2.5rem; margin-bottom: 1rem; color: #17a2b8;">ğŸ“ˆ</div>
            <div class="stat-number">{{ "%.1f"|format(stats.avg_accuracy) }}%</div>
            <div class="stat-label">å¹³å‡å‡†ç¡®ç‡</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2.5rem; margin-bottom: 1rem; color: #6f42c1;">ğŸ²</div>
            <div class="stat-number">{{ "%.1f"|format(stats.random_accuracy) }}%</div>
            <div class="stat-label">éšæœºé¢„æµ‹å‡†ç¡®ç‡</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2.5rem; margin-bottom: 1rem; color: #fd7e14;">âš–ï¸</div>
            <div class="stat-number">{{ "%.1f"|format(stats.balanced_accuracy) }}%</div>
            <div class="stat-label">å‡è¡¡é¢„æµ‹å‡†ç¡®ç‡</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2.5rem; margin-bottom: 1rem; color: #e83e8c;">ğŸ§ </div>
            <div class="stat-number">{{ "%.1f"|format(stats.ai_accuracy) }}%</div>
            <div class="stat-label">AIæ™ºèƒ½é¢„æµ‹å‡†ç¡®ç‡</div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">ğŸ« é‚€è¯·ç³»ç»Ÿç»Ÿè®¡</h2>
    </div>
    
    <div class="stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2rem; margin-bottom: 0.5rem; color: #667eea;">ğŸ«</div>
            <div class="stat-number">{{ invite_stats.total_codes }}</div>
            <div class="stat-label">æ€»é‚€è¯·ç æ•°</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2rem; margin-bottom: 0.5rem; color: #28a745;">âœ…</div>
            <div class="stat-number">{{ invite_stats.used_codes }}</div>
            <div class="stat-label">å·²ä½¿ç”¨é‚€è¯·ç </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2rem; margin-bottom: 0.5rem; color: #ffc107;">â³</div>
            <div class="stat-number">{{ invite_stats.unused_codes }}</div>
            <div class="stat-label">æœªä½¿ç”¨é‚€è¯·ç </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2rem; margin-bottom: 0.5rem; color: #dc3545;">â°</div>
            <div class="stat-number">{{ invite_stats.expired_codes }}</div>
            <div class="stat-label">å·²è¿‡æœŸé‚€è¯·ç </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2rem; margin-bottom: 0.5rem; color: #17a2b8;">ğŸ‘¥</div>
            <div class="stat-number">{{ invite_stats.invited_users }}</div>
            <div class="stat-label">è¢«é‚€è¯·ç”¨æˆ·æ•°</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="font-size: 2rem; margin-bottom: 0.5rem; color: #6f42c1;">ğŸ“Š</div>
            <div class="stat-number">{{ "%.1f"|format(invite_stats.usage_rate) }}%</div>
            <div class="stat-label">é‚€è¯·ç ä½¿ç”¨ç‡</div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">ğŸš€ å¿«é€Ÿæ“ä½œ</h2>
    </div>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
        <div style="background: rgba(102, 126, 234, 0.05); padding: 1.5rem; border-radius: 12px; border-left: 4px solid #667eea;">
            <h3 style="margin: 0 0 1rem 0; color: #667eea; font-size: 1.1rem;">ğŸ‘¥ ç”¨æˆ·ç®¡ç†</h3>
            <p style="color: #666; font-size: 0.9rem; margin-bottom: 1rem;">ç®¡ç†ç³»ç»Ÿç”¨æˆ·å’Œæƒé™</p>
            <a href="{{ url_for('admin.users') }}" class="btn btn-sm">æŸ¥çœ‹ç”¨æˆ·</a>
        </div>
        
        <div style="background: rgba(40, 167, 69, 0.05); padding: 1.5rem; border-radius: 12px; border-left: 4px solid #28a745;">
            <h3 style="margin: 0 0 1rem 0; color: #28a745; font-size: 1.1rem;">ğŸ”‘ æ¿€æ´»ç ç®¡ç†</h3>
            <p style="color: #666; font-size: 0.9rem; margin-bottom: 1rem;">ç”Ÿæˆå’Œç®¡ç†æ¿€æ´»ç </p>
            <a href="{{ url_for('admin.activation_codes') }}" class="btn btn-success btn-sm">ç®¡ç†æ¿€æ´»ç </a>
        </div>
        
        <div style="background: rgba(255, 193, 7, 0.05); padding: 1.5rem; border-radius: 12px; border-left: 4px solid #ffc107;">
            <h3 style="margin: 0 0 1rem 0; color: #ffc107; font-size: 1.1rem;">ğŸ« é‚€è¯·ç ç®¡ç†</h3>
            <p style="color: #666; font-size: 0.9rem; margin-bottom: 1rem;">ç”Ÿæˆå’Œç®¡ç†é‚€è¯·ç </p>
            <a href="{{ url_for('admin.invite_codes') }}" class="btn" style="background: linear-gradient(135deg, #ffc107 0%, #ff8c00 100%);" class="btn-sm">ç®¡ç†é‚€è¯·ç </a>
        </div>
        
        <div style="background: rgba(23, 162, 184, 0.05); padding: 1.5rem; border-radius: 12px; border-left: 4px solid #17a2b8;">
            <h3 style="margin: 0 0 1rem 0; color: #17a2b8; font-size: 1.1rem;">ğŸ¤ é‚€è¯·å…³ç³»</h3>
            <p style="color: #666; font-size: 0.9rem; margin-bottom: 1rem;">æŸ¥çœ‹ç”¨æˆ·é‚€è¯·å…³ç³»</p>
            <a href="{{ url_for('admin.user_invites') }}" class="btn" style="background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);" class="btn-sm">æŸ¥çœ‹å…³ç³»</a>
        </div>
        
        <div style="background: rgba(111, 66, 193, 0.05); padding: 1.5rem; border-radius: 12px; border-left: 4px solid #6f42c1;">
            <h3 style="margin: 0 0 1rem 0; color: #6f42c1; font-size: 1.1rem;">âš™ï¸ ç³»ç»Ÿé…ç½®</h3>
            <p style="color: #666; font-size: 0.9rem; margin-bottom: 1rem;">é…ç½®ç³»ç»Ÿå‚æ•°</p>
            <a href="{{ url_for('admin.system_config') }}" class="btn" style="background: linear-gradient(135deg, #6f42c1 0%, #5a32a3 100%);" class="btn-sm">ç³»ç»Ÿè®¾ç½®</a>
        </div>
        
        <div style="background: rgba(220, 53, 69, 0.05); padding: 1.5rem; border-radius: 12px; border-left: 4px solid #dc3545;">
            <h3 style="margin: 0 0 1rem 0; color: #dc3545; font-size: 1.1rem;">ğŸ“Š é¢„æµ‹è®°å½•</h3>
            <p style="color: #666; font-size: 0.9rem; margin-bottom: 1rem;">æŸ¥çœ‹é¢„æµ‹å†å²è®°å½•</p>
            <a href="#" class="btn btn-danger btn-sm">æŸ¥çœ‹è®°å½•</a>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">ğŸ“ˆ æœ€è¿‘æ´»åŠ¨</h2>
    </div>
    
    <div style="color: #666; text-align: center; padding: 2rem;">
        <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.3;">ğŸ“Š</div>
        <p>æš‚æ— æœ€è¿‘æ´»åŠ¨è®°å½•</p>
        <p style="font-size: 0.9rem; margin-top: 0.5rem;">ç”¨æˆ·æ“ä½œå’Œç³»ç»Ÿäº‹ä»¶å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p>
    </div>
</div>
{% endblock %}