{% extends "admin/base.html" %}

{% block page_title %}ç®¡ç†å‘˜æ§åˆ¶å°{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2 class="card-title">ğŸ“Š ç³»ç»Ÿæ¦‚è§ˆ</h2>
    </div>
    
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon" style="color: #ffc107;">ğŸ«</div>
            <div class="stat-number">{{ stats.invite_stats.total_invite_codes if stats.invite_stats else 0 }}</div>
            <div class="stat-label">é‚€è¯·ç æ€»æ•°</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #28a745;">âœ…</div>
            <div class="stat-number">{{ stats.active_users }}</div>
            <div class="stat-label">å·²æ¿€æ´»ç”¨æˆ·</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #dc3545;">âŒ</div>
            <div class="stat-number">{{ stats.inactive_users }}</div>
            <div class="stat-label">æœªæ¿€æ´»ç”¨æˆ·</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #ffc107;">ğŸ”‘</div>
            <div class="stat-number">{{ stats.unused_codes }}</div>
            <div class="stat-label">å¯ç”¨æ¿€æ´»ç </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #17a2b8;">ğŸ“ˆ</div>
            <div class="stat-number">{{ "%.1f"|format(stats.avg_accuracy) }}%</div>
            <div class="stat-label">å¹³å‡å‡†ç¡®ç‡</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #6f42c1;">ğŸ²</div>
            <div class="stat-number">{{ "%.1f"|format(stats.random_accuracy) }}%</div>
            <div class="stat-label">éšæœºé¢„æµ‹å‡†ç¡®ç‡</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #fd7e14;">âš–ï¸</div>
            <div class="stat-number">{{ "%.1f"|format(stats.balanced_accuracy) }}%</div>
            <div class="stat-label">å‡è¡¡é¢„æµ‹å‡†ç¡®ç‡</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #e83e8c;">ğŸ§ </div>
            <div class="stat-number">{{ "%.1f"|format(stats.ai_accuracy) }}%</div>
            <div class="stat-label">AIæ™ºèƒ½é¢„æµ‹å‡†ç¡®ç‡</div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">ğŸ« é‚€è¯·ç³»ç»Ÿç»Ÿè®¡</h2>
    </div>
    
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon" style="color: #667eea;">ğŸ«</div>
            <div class="stat-number">{{ stats.invite_stats.total_invite_codes if stats.invite_stats else 0 }}</div>
            <div class="stat-label">æ€»é‚€è¯·ç æ•°</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #28a745;">âœ…</div>
            <div class="stat-number">{{ stats.invite_stats.used_invite_codes if stats.invite_stats else 0 }}</div>
            <div class="stat-label">å·²ä½¿ç”¨é‚€è¯·ç </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #ffc107;">â³</div>
            <div class="stat-number">{{ stats.invite_stats.unused_invite_codes if stats.invite_stats else 0 }}</div>
            <div class="stat-label">æœªä½¿ç”¨é‚€è¯·ç </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #dc3545;">â°</div>
            <div class="stat-number">0</div>
            <div class="stat-label">å·²è¿‡æœŸé‚€è¯·ç </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #17a2b8;">ğŸ‘¥</div>
            <div class="stat-number">{{ stats.invite_stats.total_invites if stats.invite_stats else 0 }}</div>
            <div class="stat-label">è¢«é‚€è¯·ç”¨æˆ·æ•°</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #6f42c1;">ğŸ“Š</div>
            <div class="stat-number">{{ "%.1f"|format((stats.invite_stats.used_invite_codes / stats.invite_stats.total_invite_codes * 100) if stats.invite_stats and stats.invite_stats.total_invite_codes > 0 else 0) }}%</div>
            <div class="stat-label">é‚€è¯·ç ä½¿ç”¨ç‡</div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">ğŸš€ å¿«é€Ÿæ“ä½œ</h2>
    </div>
    
    <div class="stats-grid">
        <div class="stat-card" style="text-align: left; border-left: 4px solid #667eea; background: rgba(102, 126, 234, 0.05);">
            <h3 style="margin: 0 0 0.5rem 0; color: #667eea; font-size: 1rem;">ğŸ‘¥ ç”¨æˆ·ç®¡ç†</h3>
            <p style="color: #666; font-size: 0.8rem; margin-bottom: 0.5rem;">ç®¡ç†ç³»ç»Ÿç”¨æˆ·å’Œæƒé™</p>
            <a href="{{ url_for('admin.users') }}" class="btn btn-primary btn-sm" style="min-width: 100px; text-align: center; display: flex; align-items: center; justify-content: center;">æŸ¥çœ‹ç”¨æˆ·</a>
        </div>
        
        <div class="stat-card" style="text-align: left; border-left: 4px solid #28a745; background: rgba(40, 167, 69, 0.05);">
            <h3 style="margin: 0 0 0.5rem 0; color: #28a745; font-size: 1rem;">ğŸ”‘ æ¿€æ´»ç ç®¡ç†</h3>
            <p style="color: #666; font-size: 0.8rem; margin-bottom: 0.5rem;">ç”Ÿæˆå’Œç®¡ç†æ¿€æ´»ç </p>
            <a href="{{ url_for('admin.activation_codes') }}" class="btn btn-success btn-sm" style="min-width: 100px; text-align: center; display: flex; align-items: center; justify-content: center;">ç®¡ç†æ¿€æ´»ç </a>
        </div>
        
        <div class="stat-card" style="text-align: left; border-left: 4px solid #ffc107; background: rgba(255, 193, 7, 0.05);">
            <h3 style="margin: 0 0 0.5rem 0; color: #ffc107; font-size: 1rem;">ğŸ« é‚€è¯·ç ç®¡ç†</h3>
            <p style="color: #666; font-size: 0.8rem; margin-bottom: 0.5rem;">ç”Ÿæˆå’Œç®¡ç†é‚€è¯·ç </p>
            <a href="{{ url_for('admin.invite_codes') }}" class="btn btn-warning btn-sm" style="min-width: 100px; text-align: center; display: flex; align-items: center; justify-content: center;">ç®¡ç†é‚€è¯·ç </a>
        </div>
        
        <div class="stat-card" style="text-align: left; border-left: 4px solid #17a2b8; background: rgba(23, 162, 184, 0.05);">
            <h3 style="margin: 0 0 0.5rem 0; color: #17a2b8; font-size: 1rem;">ğŸ¤ é‚€è¯·å…³ç³»</h3>
            <p style="color: #666; font-size: 0.8rem; margin-bottom: 0.5rem;">æŸ¥çœ‹ç”¨æˆ·é‚€è¯·å…³ç³»</p>
            <a href="{{ url_for('admin.user_invites') }}" class="btn btn-info btn-sm" style="min-width: 100px; text-align: center; display: flex; align-items: center; justify-content: center;">æŸ¥çœ‹å…³ç³»</a>
        </div>
        
        <div class="stat-card" style="text-align: left; border-left: 4px solid #6f42c1; background: rgba(111, 66, 193, 0.05);">
            <h3 style="margin: 0 0 0.5rem 0; color: #6f42c1; font-size: 1rem;">âš™ï¸ ç³»ç»Ÿé…ç½®</h3>
            <p style="color: #666; font-size: 0.8rem; margin-bottom: 0.5rem;">é…ç½®ç³»ç»Ÿå‚æ•°</p>
            <a href="{{ url_for('admin.system_config') }}" class="btn btn-secondary btn-sm" style="min-width: 100px; text-align: center; display: flex; align-items: center; justify-content: center;">ç³»ç»Ÿè®¾ç½®</a>
        </div>
        
        <div class="stat-card" style="text-align: left; border-left: 4px solid #dc3545; background: rgba(220, 53, 69, 0.05);">
            <h3 style="margin: 0 0 0.5rem 0; color: #dc3545; font-size: 1rem;">ğŸ“Š é¢„æµ‹è®°å½•</h3>
            <p style="color: #666; font-size: 0.8rem; margin-bottom: 0.5rem;">æŸ¥çœ‹é¢„æµ‹å†å²è®°å½•</p>
            <a href="{{ url_for('admin.predictions') }}" class="btn btn-danger btn-sm" style="min-width: 100px; text-align: center; display: flex; align-items: center; justify-content: center;">æŸ¥çœ‹è®°å½•</a>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">ğŸ“ˆ æœ€è¿‘æ´»åŠ¨</h2>
    </div>
    
    <div style="color: #666; text-align: center; padding: 1rem;">
        <div style="font-size: 2rem; margin-bottom: 0.5rem; opacity: 0.3;">ğŸ“Š</div>
        <p>æš‚æ— æœ€è¿‘æ´»åŠ¨è®°å½•</p>
        <p style="font-size: 0.9rem; margin-top: 0.5rem;">ç”¨æˆ·æ“ä½œå’Œç³»ç»Ÿäº‹ä»¶å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p>
    </div>
</div>
{% endblock %}